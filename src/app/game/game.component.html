<div *ngIf="player">
  <ng-container [ngSwitch]="viewMode">
    <!-- Summary Screen -->
    <div *ngSwitchCase="'summary'" class="summary-screen">
      <h2>Dope Master</h2>
      <div class="player-summary">
        <div><strong>Day:</strong> {{ day }}, {{ getCurrentLocation()?.name }}</div>
        <div><strong>Clean Money:</strong> ${{ player.cleanMoney }}</div>
        <div><strong>Dirty Money:</strong> ${{ player.dirtyMoney }}</div>
        <div><strong>Notoriety:</strong> {{ player.notoriety }}</div>
        <div><strong>Inventory:</strong> {{ (player.inventory | valuesSum) }}/{{ player.inventoryLimit }}</div>
        <div><strong>Time Units Left:</strong> {{ player.timeUnits }}</div>
      </div>
      <div class="actions">
        <button (click)="gotoMarket()">Market</button>
        <button (click)="gotoMap()">Map</button>
        <button (click)="gotoDealing()">Deal</button>
        <button (click)="sleep()">Sleep (End Day)</button>
        <!-- Add more actions here -->
      </div>
    </div>
    <!-- Market Screen -->
    <div *ngSwitchCase="'market'" class="market-screen">
      <app-market (backToSummary)="gotoSummary()"></app-market>
    </div>
    <!-- Map Screen -->
    <div *ngSwitchCase="'map'" class="map-screen">
      <app-map (moveConfirmed)="gotoSummary()" (backToSummary)="gotoSummary()"></app-map>
    </div>
    <!-- Dealing Screen -->
    <div *ngSwitchCase="'dealing'" class="dealing-screen">
      <app-dealing (backToSummary)="gotoSummary()"></app-dealing>
    </div>
  </ng-container>
</div>
